
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="LinuxONE Bootcamp">
      
      
        <meta name="author" content="Sam Amsavelu">
      
      
        <link rel="canonical" href="https://github.com/samveluIBM/LinuxONE_Bootcamp/lab1_7_install/">
      
      
      
      
      <link rel="icon" href="../assets/images/wsc-logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>MongoDB installation - LinuxONE Bootcamp</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,700,700i%7CIBM+Plex+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"IBM Plex Sans";--md-code-font:"IBM Plex Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mongodb-installation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="LinuxONE Bootcamp" class="md-header__button md-logo" aria-label="LinuxONE Bootcamp" data-md-component="logo">
      
  <img src="../assets/images/wsc-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LinuxONE Bootcamp
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MongoDB installation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/samveluIBM/LinuxONE_Bootcamp/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="LinuxONE Bootcamp" class="md-nav__button md-logo" aria-label="LinuxONE Bootcamp" data-md-component="logo">
      
  <img src="../assets/images/wsc-logo.png" alt="logo">

    </a>
    LinuxONE Bootcamp
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/samveluIBM/LinuxONE_Bootcamp/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Hands-On Labs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Hands-On Labs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloudaccess/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connectivity to IBM Cloud Lab Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onpremaccess/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connectivity to IBM On-premise Lab Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab1_8_install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MongoDB V8 Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab2_basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MongoDB Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab3_operations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MongoDB Operations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab4_advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MongoDB Advanced Operations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab5_compass/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MongoDB Compass
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../localdocbuild/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Locally Building docs
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mongodb-installation-steps" class="md-nav__link">
    <span class="md-ellipsis">
      MongoDB installation steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MongoDB installation steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clone-the-mongodb-git-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Clone the mongoDB git repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-setup-script" class="md-nav__link">
    <span class="md-ellipsis">
      Run the setup script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-ansible-playbook" class="md-nav__link">
    <span class="md-ellipsis">
      Run the ansible playbook
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongodb-uninstallation" class="md-nav__link">
    <span class="md-ellipsis">
      MongoDB Uninstallation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MongoDB Uninstallation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uninstall-mongodb" class="md-nav__link">
    <span class="md-ellipsis">
      Uninstall MongoDB
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-mongodb" class="md-nav__link">
    <span class="md-ellipsis">
      Install MongoDB
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="mongodb-installation">MongoDB installation</h1>
<h2 id="overview">Overview</h2>
<p>We will be using the Ansible playbooks to install MongoDB in the lab environment by following the steps below.</p>
<ol>
<li>Clone the MongoDB git repository</li>
<li>Run the setup script </li>
<li>Run the ansible playbook </li>
</ol>
<h3 id="mongodb-installation-steps">MongoDB installation steps</h3>
<h4 id="clone-the-mongodb-git-repository">Clone the mongoDB git repository</h4>
<p>Make sure you are connected to the Linux guest from the previous step.</p>
<details class="- example">
<summary>The following is an example where the terminal will show that you are connected to the Linux guest [click to expand me]</summary>
<div class="highlight"><pre><span></span><code>login as: cecuser
Pre-authentication banner message from server:
|
| ______________________________________________________________________
|
|                     Welcome to IBM Technology Zone
| ______________________________________________________________________
|
|
| IBM&#39;s internal systems must only be used for conducting IBM&#39;s business
| or for purposes authorized by IBM management.  Use is subject to audit
| at any time by IBM management.
|
| Unauthorized access will be investigated and penalties will be pursued
| in conformance with applicable laws and regulations. If you are not an
| authorized user disconnect now.
|
|
End of banner message from server
cecuser@129.40.60.161&#39;s password:

______________________________________________________________________

                  Welcome to IBM Technology Zone
______________________________________________________________________


IBM&#39;s internal systems must only be used for conducting IBM&#39;s business
or for purposes authorized by IBM management.  Use is subject to audit
at any time by IBM management.

Unauthorized access will be investigated and penalties will be pursued
in conformance with applicable laws and regulations. If you are not an
authorized user disconnect now.
______________________________________________________________________

IaaS Red Hat Enterprise Linux 8.10

Activate the web console with: systemctl enable --now cockpit.socket

Register this system with Red Hat Insights: insights-client --register
Create an account or view all your systems at https://red.ht/insights-dashboard
Last login: Thu Mar 13 10:18:51 2025 from 9.19.184.79
[cecuser@p1243-zvm1 ~]$
</code></pre></div>
</details>
<p>Enter the following Linux commands to switch to <strong>super user</strong> for installation and then change the directory to a temporary working directory <strong>/tmp</strong> .</p>
<div class="highlight"><pre><span></span><code><span class="w">   </span>sudo<span class="w"> </span>-i<span class="w"> </span>
<span class="w">   </span><span class="nb">cd</span><span class="w"> </span>/tmp
</code></pre></div>
<details class="- example">
<summary>The following is an example where the terminal will show that you are connected to the Linux terminal as “root” and the working directory is tmp [click to expand me]</summary>
<div class="highlight"><pre><span></span><code>[cecuser@p1243-zvm1 /]$    sudo -i
[root@p1243-zvm1 ~]#    cd /tmp
[root@p1243-zvm1 tmp]#
</code></pre></div>
</details>
<p>We have created an Ansible playbook repository to install MongoDB on a Red Hat Linux guest and clone that repository using the following command.</p>
<div class="highlight"><pre><span></span><code><span class="w">   </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/samveluIBM/MongoDB-Wildfire-Workshop
</code></pre></div>
<details class="- example">
<summary>The following example shows the output of succesful cloning of the repository [click to expand me]</summary>
<div class="highlight"><pre><span></span><code>[root@p1243-zvm1 tmp]#    git clone https://github.com/samveluIBM/MongoDB-Wildfire-Workshop
Cloning into &#39;MongoDB-Wildfire-Workshop&#39;...
remote: Enumerating objects: 20, done.
remote: Counting objects: 100% (20/20), done.
remote: Compressing objects: 100% (14/14), done.
remote: Total 20 (delta 1), reused 3 (delta 0), pack-reused 0 (from 0)
Receiving objects: 100% (20/20), 4.99 KiB | 4.99 MiB/s, done.
Resolving deltas: 100% (1/1), done.
[root@p1243-zvm1 tmp]#
</code></pre></div>
</details>
<h4 id="run-the-setup-script">Run the setup script</h4>
<p>This step will install the python and ansibles to use ansible playbooks to install MongoDB on the Linux guest. 
Change to the cloned directory and then run the <strong>setup</strong> script.
Use the following commands:</p>
<div class="highlight"><pre><span></span><code><span class="w">   </span><span class="nb">cd</span><span class="w"> </span>MongoDB-Wildfire-Workshop/
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="w">    </span>./setup.sh
</code></pre></div>
<details class="- example">
<summary>The following example shows the output of succesful execution of setup.sh script [click to expand me]</summary>
<div class="highlight"><pre><span></span><code>Installed products updated.

Installed:
ansible-9.2.0-1.el8.noarch
ansible-core-2.16.3-2.el8.s390x
python3-jmespath-0.9.0-11.el8.noarch
python3.12-3.12.8-1.el8_10.s390x
python3.12-cffi-1.16.0-2.el8.s390x
python3.12-cryptography-41.0.7-1.el8.s390x
python3.12-libs-3.12.8-1.el8_10.s390x
python3.12-pip-wheel-23.2.1-4.el8.noarch
python3.12-ply-3.11-2.el8.noarch
python3.12-pycparser-2.20-2.el8.noarch
python3.12-pyyaml-6.0.1-2.el8.s390x
python39-3.9.20-1.module+el8.10.0+22342+478c159e.s390x
python39-libs-3.9.20-1.module+el8.10.0+22342+478c159e.s390x
python39-pip-20.2.4-9.module+el8.10.0+21329+8d76b841.noarch
python39-pip-wheel-20.2.4-9.module+el8.10.0+21329+8d76b841.noarch
python39-setuptools-50.3.2-6.module+el8.10.0+22183+c898c0c1.noarch
python39-setuptools-wheel-50.3.2-6.module+el8.10.0+22183+c898c0c1.noarch
sshpass-1.09-4.el8.s390x

Complete!
[root@p1243-zvm1 MongoDB-Wildfire-Workshop]#
</code></pre></div>
</details>
<h4 id="run-the-ansible-playbook">Run the ansible playbook</h4>
<p>In this step we will run the ansible playbook to install MongoDB. Use the following command:</p>
<div class="highlight"><pre><span></span><code><span class="w">   </span>ansible-playbook<span class="w"> </span>mongodb7Install.yml<span class="w"> </span>
</code></pre></div>
<details class="- example">
<summary>The following example shows the output of succesful MongoDB installtion [click to expand me]</summary>
<div class="highlight"><pre><span></span><code>[root@zdblab05 zmongodb]# ansible-playbook mongodbInstall.yml

PLAY [Install MongoDB on a Linux Guest.] ***********************************************************

TASK [Gathering Facts] *****************************************************************************
ok: [127.0.0.1]

TASK [Create repo file for mongodb-enterprise] *****************************************************
ok: [127.0.0.1]

TASK [Install  mongodb-enterprise.] ****************************************************************
changed: [127.0.0.1] =&gt; (item={&#39;pkg&#39;: &#39;mongodb-enterprise&#39;, &#39;when&#39;: True})
ok: [127.0.0.1] =&gt; (item={&#39;pkg&#39;: &#39;libselinux-utils&#39;, &#39;when&#39;: &quot;db_path != &#39;/var/lib/mongodb&#39; or log_file != &#39;/var/log/mongodb/mongod.log&#39;&quot;})
ok: [127.0.0.1] =&gt; (item={&#39;pkg&#39;: &#39;policycoreutils-python-utils&#39;, &#39;when&#39;: &quot;db_path != &#39;/var/lib/mongodb&#39; or log_file != &#39;/var/log/mongodb/mongod.log&#39;&quot;})

TASK [Set SELinux to Permissive mode.] *************************************************************
skipping: [127.0.0.1]

TASK [Disable SELinux permanently in configuration.] ***********************************************
skipping: [127.0.0.1]

TASK [Ensure db and log files exist and are owned by mongod user.] *********************************
changed: [127.0.0.1] =&gt; (item={&#39;path&#39;: &#39;/var/lib/mongodb&#39;, &#39;state&#39;: &#39;directory&#39;, &#39;recurse&#39;: True})
changed: [127.0.0.1] =&gt; (item={&#39;path&#39;: &#39;/var/log/mongodb/mongod.log&#39;, &#39;state&#39;: &#39;touch&#39;, &#39;recurse&#39;: False})

TASK [Change db and/or log file paths.] ************************************************************
changed: [127.0.0.1] =&gt; (item={&#39;key&#39;: &#39;dbPath&#39;, &#39;value&#39;: &#39;/var/lib/mongodb&#39;, &#39;when&#39;: &quot;db_path != &#39;/var/lib/mongodb&#39;&quot;})
ok: [127.0.0.1] =&gt; (item={&#39;key&#39;: &#39;path&#39;, &#39;value&#39;: &#39;/var/log/mongodb/mongod.log&#39;, &#39;when&#39;: &quot;log_file != &#39;/var/log/mongodb/mongod.log&#39;&quot;})

TASK [Start mongod service.] ***********************************************************************
changed: [127.0.0.1]

TASK [Check mongod status.] ************************************************************************
changed: [127.0.0.1]

TASK [Print mongod status.] ************************************************************************
ok: [127.0.0.1] =&gt;
msg: |-
● mongod.service - MongoDB Database Server
 Loaded: loaded (/usr/lib/systemd/system/mongod.service; enabled; vendor preset: disabled)
 Active: active (running) since Mon 2025-03-10 21:51:38 UTC; 288ms ago
   Docs: https://docs.mongodb.org/manual
Main PID: 490438 (mongod)
 Memory: 70.3M
 CGroup: /system.slice/mongod.service
         └─490438 /usr/bin/mongod -f /etc/mongod.conf

Mar 10 21:51:38 zdblab05 systemd[1]: Started MongoDB Database Server.
Mar 10 21:51:38 zdblab05 mongod[490438]: {&quot;t&quot;:{&quot;$date&quot;:&quot;2025-03-10T21:51:38.431Z&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;CONTROL&quot;,  &quot;id&quot;:7484500, &quot;ctx&quot;:&quot;main&quot;,&quot;msg&quot;:&quot;Environment variable MONGODB_CONFIG_OVERRIDE_NOFORK == 1, overriding \&quot;processManagement.fork\&quot; to false&quot;}

TASK [Check mongod version.] ***********************************************************************
changed: [127.0.0.1]

TASK [Print mongod version.] ***********************************************************************
ok: [127.0.0.1] =&gt;
msg: mongod_version.stdout

TASK [Set bindIP to 0.0.0.0 in mongod.conf] ********************************************************
changed: [127.0.0.1]

TASK [Verify MongoDB Enterprise Edition installed successfully.] ***********************************
changed: [127.0.0.1]

TASK [Congratulations!] ****************************************************************************
ok: [127.0.0.1] =&gt;
msg: MongoDB installation complete.

PLAY RECAP *****************************************************************************************
127.0.0.1                  : ok=13   changed=8    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0

[root@zdblab05 zmongodb]#
</code></pre></div>
</details>
<h3 id="mongodb-uninstallation">MongoDB Uninstallation</h3>
<h4 id="uninstall-mongodb">Uninstall MongoDB</h4>
<p>Run the ansible playbook to uninstall mongoDB. Use the following command:</p>
<div class="highlight"><pre><span></span><code><span class="w">   </span>ansible-playbook<span class="w"> </span>mongodbUnInstall.yml<span class="w"> </span>
</code></pre></div>
<details class="- example">
<summary>The following example shows the output of succesful MongoDB uninstalltion [click to expand me]</summary>
<div class="highlight"><pre><span></span><code>[root@zdblab05 zmongodb]# ansible-playbook mongodbUnInstall.yml

PLAY [UnInstall MongoDB on a Linux Guest.] *********************************************************

TASK [Gathering Facts] *****************************************************************************
ok: [127.0.0.1]

TASK [Gather info about installed  services.] ******************************************************
ok: [127.0.0.1]

TASK [Stop mongod service.] ************************************************************************
changed: [127.0.0.1]

TASK [Uninstall MongoDB.] **************************************************************************
changed: [127.0.0.1]

TASK [Remove data and log directories] *************************************************************
ok: [127.0.0.1] =&gt; (item=/var/log/mongodb/mongod.log)
changed: [127.0.0.1] =&gt; (item=/var/lib/mongodb)

TASK [Done.] ***************************************************************************************
ok: [127.0.0.1] =&gt;
msg: MongoDB has been uninstalled successfully.

PLAY RECAP *****************************************************************************************
127.0.0.1                  : ok=6    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

[root@zdblab05 zmongodb]#
</code></pre></div>
</details>
<h4 id="install-mongodb">Install MongoDB</h4>
<p>In this step we will run the ansible playbook to install MongoDB back. Use the following command:</p>
<div class="highlight"><pre><span></span><code><span class="w">   </span>ansible-playbook<span class="w"> </span>mongodb7Install.yml<span class="w"> </span>
</code></pre></div>
<details class="- example">
<summary>The following example shows the output of succesful MongoDB installtion [click to expand me]</summary>
<div class="highlight"><pre><span></span><code>[root@zdblab05 zmongodb]# ansible-playbook mongodbInstall.yml

PLAY [Install MongoDB on a Linux Guest.] ***********************************************************

TASK [Gathering Facts] *****************************************************************************
ok: [127.0.0.1]

TASK [Create repo file for mongodb-enterprise] *****************************************************
ok: [127.0.0.1]

TASK [Install  mongodb-enterprise.] ****************************************************************
changed: [127.0.0.1] =&gt; (item={&#39;pkg&#39;: &#39;mongodb-enterprise&#39;, &#39;when&#39;: True})
ok: [127.0.0.1] =&gt; (item={&#39;pkg&#39;: &#39;libselinux-utils&#39;, &#39;when&#39;: &quot;db_path != &#39;/var/lib/mongodb&#39; or log_file != &#39;/var/log/mongodb/mongod.log&#39;&quot;})
ok: [127.0.0.1] =&gt; (item={&#39;pkg&#39;: &#39;policycoreutils-python-utils&#39;, &#39;when&#39;: &quot;db_path != &#39;/var/lib/mongodb&#39; or log_file != &#39;/var/log/mongodb/mongod.log&#39;&quot;})

TASK [Set SELinux to Permissive mode.] *************************************************************
skipping: [127.0.0.1]

TASK [Disable SELinux permanently in configuration.] ***********************************************
skipping: [127.0.0.1]

TASK [Ensure db and log files exist and are owned by mongod user.] *********************************
changed: [127.0.0.1] =&gt; (item={&#39;path&#39;: &#39;/var/lib/mongodb&#39;, &#39;state&#39;: &#39;directory&#39;, &#39;recurse&#39;: True})
changed: [127.0.0.1] =&gt; (item={&#39;path&#39;: &#39;/var/log/mongodb/mongod.log&#39;, &#39;state&#39;: &#39;touch&#39;, &#39;recurse&#39;: False})

TASK [Change db and/or log file paths.] ************************************************************
changed: [127.0.0.1] =&gt; (item={&#39;key&#39;: &#39;dbPath&#39;, &#39;value&#39;: &#39;/var/lib/mongodb&#39;, &#39;when&#39;: &quot;db_path != &#39;/var/lib/mongodb&#39;&quot;})
ok: [127.0.0.1] =&gt; (item={&#39;key&#39;: &#39;path&#39;, &#39;value&#39;: &#39;/var/log/mongodb/mongod.log&#39;, &#39;when&#39;: &quot;log_file != &#39;/var/log/mongodb/mongod.log&#39;&quot;})

TASK [Start mongod service.] ***********************************************************************
changed: [127.0.0.1]

TASK [Check mongod status.] ************************************************************************
changed: [127.0.0.1]

TASK [Print mongod status.] ************************************************************************
ok: [127.0.0.1] =&gt;
msg: |-
● mongod.service - MongoDB Database Server
 Loaded: loaded (/usr/lib/systemd/system/mongod.service; enabled; vendor preset: disabled)
 Active: active (running) since Mon 2025-03-10 21:51:38 UTC; 288ms ago
   Docs: https://docs.mongodb.org/manual
Main PID: 490438 (mongod)
 Memory: 70.3M
 CGroup: /system.slice/mongod.service
         └─490438 /usr/bin/mongod -f /etc/mongod.conf

Mar 10 21:51:38 zdblab05 systemd[1]: Started MongoDB Database Server.
Mar 10 21:51:38 zdblab05 mongod[490438]: {&quot;t&quot;:{&quot;$date&quot;:&quot;2025-03-10T21:51:38.431Z&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;CONTROL&quot;,  &quot;id&quot;:7484500, &quot;ctx&quot;:&quot;main&quot;,&quot;msg&quot;:&quot;Environment variable MONGODB_CONFIG_OVERRIDE_NOFORK == 1, overriding \&quot;processManagement.fork\&quot; to false&quot;}

TASK [Check mongod version.] ***********************************************************************
changed: [127.0.0.1]

TASK [Print mongod version.] ***********************************************************************
ok: [127.0.0.1] =&gt;
msg: mongod_version.stdout

TASK [Set bindIP to 0.0.0.0 in mongod.conf] ********************************************************
changed: [127.0.0.1]

TASK [Verify MongoDB Enterprise Edition installed successfully.] ***********************************
changed: [127.0.0.1]

TASK [Congratulations!] ****************************************************************************
ok: [127.0.0.1] =&gt;
msg: MongoDB installation complete.

PLAY RECAP *****************************************************************************************
127.0.0.1                  : ok=13   changed=8    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0

[root@zdblab05 zmongodb]#
</code></pre></div>
</details>
<h2 id="summary">Summary</h2>
<p>In this lab we used Ansible playbooks to install MongoDB in the lab environment.     </p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2025 IBM

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link", "content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>